#!/bin/bash
clear
echo "Start and setup Input handler, Emulator and AVIC......"

#sudo apt-get install libsdl2-dev libsdl2-image-dev can-utils  

sudo modprobe can
sudo modprobe vcan

sudo ip link add dev vcan0 type vcan
sudo ip link set up vcan0

sudo ip link add dev vcan1 type vcan
sudo ip link set up vcan1

gnome-terminal --title "Emulator" -- bash -c 'cd Code/Emulator && g++ main.cpp src/emulator.cpp && ../libSocketCan/src/socketcan.cpp -lpthread && ./a.out' &

gnome-terminal --title "AVIC" -e bash -- 'cd Code/avic/build && cmake .. && make ./avic -c vcan1' &

gnome-terminal --title "Input handler" -- bash -c 'cd Code/InputHandler && g++ main.cpp src/InputHandler.cpp && ../libSocketCan/src/socketcan.cpp -Linclude -L../libSocketCan/include -lncurses  && ./a.out'






